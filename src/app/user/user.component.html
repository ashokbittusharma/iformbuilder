<div class="container">
  <section class="mt-3">
    

    <div class="row justify-content-md-center">
      <div class="col-md-6">
        <!-- Bootstrap 5 starter form -->

        <form [formGroup]="userInfoForm" (ngSubmit)="submitForm()" class="userForm">
          <h1 class="text-uppercase text-center">User Info</h1>
          <!-- Name input -->
          <!-- {{userInfoForm.name}} -->
          <div class="mb-3">
            <label class="form-label" for="name">Name</label>
            <input class="form-control" id="name" formControlName="name" type="text" placeholder="Name" />
            <span class="text-danger"
              *ngIf="(submitted) && infoFormControl.name.errors?.required">
              Name is required.
            </span>
          </div>

          <!-- Email address input -->
          <div class="mb-3">
            <label class="form-label" for="emailAddress">Email Address</label>
            <input class="form-control" formControlName="email" id="emailAddress" type="email" placeholder="Email Address" />
            <span class="text-danger"
              *ngIf="(submitted) && infoFormControl.email.errors?.required">
              Email is required.
            </span>
          </div>

          <!-- Form submit button -->
          <div class="text-center">
            <button class="btn btn-info btn-lg" [disabled]='IsCalling' type="submit">
              <span *ngIf="!IsCalling ; else showLoader">Submit</span>
              <ng-template #showLoader>
                <div class="spinner-border text-success" role="status">
                  <span class="visually-hidden">Loading...</span>
                </div>
              </ng-template>
            </button>
          </div>
        </form>
      </div>
    </div>
    <!-- Display Records -->
    <div class="row mt-5 justify-content-md-center">
      <div class="col-md-8 ">
        <h2 class="text-center text-uppercase text-decoration-underline">All Records</h2>
        <table class="table table-striped table-hover">
          <thead>
            <tr>
              <th scope="col">#</th>
              <th scope="col">Name</th>
              <th scope="col">Email</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let record of records">
              <th scope="row">{{ record.id }}</th>
              <td>{{ record.name }}</td>
              <td>{{ record.mail }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </section>
  <!-- Footer -->

</div>